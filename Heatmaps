Reference: http://marianattestad.com/blog

#Install package
if (!requireNamespace("BiocManager", quietly = TRUE))
  install.packages("BiocManager")

BiocManager::install("ComplexHeatmap")

#Library
library(ComplexHeatmap)

#Read the data file
test
head(test)
dim(test)

#Select the collumns for the matrix
my_matrix <- as.matrix(test [ ,c(2:5)])
class(test)
class(my_matrix)

#Make a dataframe for later annotation
annotation <- data.frame(country = test$...1) 
annotation

#Make the heatmap
#Default parameters
Heatmap(my_matrix)

#Flip rows and columns
my_matrix <- t(my_matrix)
Heatmap(my_matrix)

# Keep bins in order, not clustered
Heatmap(my_matrix, cluster_columns=FALSE, cluster_rows = FALSE)

#Change the fontsize
fontsize <- 0.6

# Put cell labels on the left side (XXX)

Heatmap(my_matrix,
        row_names_side = 'left',
        row_names_gp=gpar(cex=fontsize),
        bottom_annotation = HeatmapAnnotation(df = annotation), show_column_names = annotation)

        
